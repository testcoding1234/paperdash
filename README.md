# PaperDash 📊

個人利用のためのセキュアなPWAダッシュボード

## 特徴

- 🔒 **セキュリティ重視**: トークンの安全な取り扱い
- 📱 **PWA対応**: オフライン動作とアプリライクな体験
- ⚡ **軽量高速**: パフォーマンスと軽量設計を最優先
- 🎌 **日本語UI**: 日本語のみのインターフェース
- 💾 **LocalStorage**: バックエンド不要のシンプルな構成

## 🔐 セキュリティについて

### ⚠️ 重要な注意事項

**このアプリケーションは個人利用を前提としています**

- GitHub Pagesは公開されたウェブサイトです
- URLを他人と共有しないでください
- 個人のデバイスでのみ使用してください
- 公共のコンピュータでは使用しないでください

### GitHub Personal Access Tokenについて

#### トークンの作成方法（Fine-grained token推奨）

1. GitHubにログイン
2. Settings → Developer settings → Personal access tokens → **Fine-grained tokens**
3. 「Generate new token」をクリック
4. 以下を設定:
   - **Token name**: 任意の名前（例: PaperDash Read-only）
   - **Expiration**: 90日または任意の期限
   - **Repository access**: 「Public Repositories (read-only)」を選択
   - **Permissions**: 必要最小限の読み取り権限のみ
     - Contents: Read-only（リポジトリの内容を読む）
     - Metadata: Read-only（基本情報を読む）
5. 「Generate token」をクリック
6. 表示されたトークンをコピー（このページを離れると二度と表示されません）

#### ⚠️ セキュリティ警告

- **絶対に書き込み権限のあるトークンは使用しないでください**
- **読み取り専用（Read-only）のトークンのみ使用してください**
- トークンは個人の秘密情報です。他人と共有しないでください
- 不要になったトークンはGitHubの設定から削除してください

### トークンの保存について

このアプリでは2つの保存オプションがあります：

1. **セッションのみ（デフォルト、推奨）**
   - 「トークンを端末に保存する」チェックボックスをOFF
   - ブラウザを閉じるとトークンは消去されます
   - 最も安全な方法です

2. **端末に保存**
   - 「トークンを端末に保存する」チェックボックスをON
   - ブラウザのLocalStorageに保存されます
   - 次回訪問時もトークンが保持されます
   - 便利ですが、デバイスのセキュリティに依存します

### データの削除方法

保存されたトークンや設定を完全に削除するには：

1. 設定画面を開く
2. 画面下部の「全データ削除」ボタンをクリック
3. 確認のためもう一度クリック
4. すべてのデータが削除されます

または、ブラウザの開発者ツール（F12）から：
```javascript
// すべてのアプリデータを削除
Object.keys(localStorage).forEach(key => {
  if (key.startsWith('epaper_dashboard_')) {
    localStorage.removeItem(key);
  }
});
```

### セキュリティ機能

このアプリケーションには以下のセキュリティ機能が実装されています：

- ✅ トークンの自動保存禁止（明示的な同意が必要）
- ✅ トークン入力フィールドのマスク（パスワード形式）
- ✅ トークンの表示/非表示切り替え
- ✅ コンソールログへのトークン出力禁止
- ✅ エラーメッセージへのトークン含有禁止
- ✅ 名前空間付きLocalStorageキー（`epaper_dashboard_*`）
- ✅ 機密データと非機密データの分離
- ✅ PWAキャッシュのバージョン管理
- ✅ サービスワーカーの自動更新
- ✅ APIレスポンスのキャッシュ制限

## 🚀 セットアップ

### 必要要件

- Node.js 18.x 以降
- npm または yarn

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/testcoding1234/paperdash.git
cd paperdash

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

### ビルド

```bash
# プロダクションビルド
npm run build

# ビルド結果をプレビュー
npm run preview
```

### GitHub Pagesへのデプロイ

```bash
# ビルド
npm run build

# distフォルダをgh-pagesブランチにデプロイ
# （GitHub Actionsまたは手動でデプロイ）
```

## 📖 使い方

1. アプリケーションを開く
2. 「設定」ボタンをクリック
3. GitHubユーザー名を入力
4. （オプション）GitHub Personal Access Tokenを入力
5. （オプション）「トークンを端末に保存する」を選択
6. 「保存」をクリック
7. ダッシュボードにGitHubコントリビューショングラフが表示されます

## 🔧 技術スタック

- **React 19** - UIライブラリ
- **TypeScript** - 型安全性
- **Vite** - 高速ビルドツール
- **Tailwind CSS** - スタイリング
- **vite-plugin-pwa** - PWA機能
- **Workbox** - サービスワーカー管理

## 📝 ライセンス

MIT License

## ⚠️ 免責事項

このアプリケーションは個人利用を目的としています。以下の点にご注意ください：

- このアプリの使用は自己責任で行ってください
- トークンの管理は各自で適切に行ってください
- セキュリティインシデントについて作者は責任を負いません
- 本番環境や重要なデータには使用しないでください

## 🤝 コントリビューション

プルリクエストは歓迎します。大きな変更の場合は、まずissueを開いて変更内容を議論してください。

## 📞 サポート

問題が発生した場合は、GitHubのIssueを開いてください。